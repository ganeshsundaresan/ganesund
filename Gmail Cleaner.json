{"files":[{"id":"5c997195-962b-425e-b53d-7e4cbe88aa65","name":"appsscript","type":"json","source":"{\n  \"timeZone\": \"Asia/Kolkata\",\n  \"dependencies\": {},\n  \"exceptionLogging\": \"STACKDRIVER\",\n  \"runtimeVersion\": \"V8\",\n  \"webapp\": {\n    \"executeAs\": \"USER_ACCESSING\",\n    \"access\": \"ANYONE\"\n  }\n}"},{"id":"5df1144d-41c1-45c7-a00c-459e4eda5d4d","name":"Gmail_cleaner","type":"server_js","source":"function cleanUpInboxAndTabs() {\n  const categories \u003d [\n    \u0027category:updates\u0027,\n    \u0027category:forums\u0027,\n    \u0027category:promotions\u0027,\n    \u0027category:social\u0027,\n    \u0027in:inbox\u0027\n  ];\n\n  const allThreads \u003d [];\n\n  categories.forEach(category \u003d\u003e {\n    const threads \u003d GmailApp.search(`${category} -is:starred`); // skip starred\n    allThreads.push(...threads);\n  });\n\n  Logger.log(\"üîç Total threads to review: \" + allThreads.length);\n\n  allThreads.forEach(thread \u003d\u003e {\n    const messages \u003d thread.getMessages();\n    let keepThread \u003d false;\n\n    for (let message of messages) {\n      const subject \u003d message.getSubject();\n      const body \u003d message.getPlainBody();\n      const content \u003d (subject + \u0027 \u0027 + body).toLowerCase();\n\n      if (isStudyRelated(content)) {\n        keepThread \u003d true;\n        break; // no need to keep checking this thread\n      }\n    }\n\n    if (!keepThread) {\n      thread.moveToTrash();\n      Logger.log(\"üóëÔ∏è Deleted thread (not study-related): \" + thread.getFirstMessageSubject());\n    } else {\n      Logger.log(\"‚úÖ Kept thread (study-related): \" + thread.getFirstMessageSubject());\n    }\n  });\n\n  Logger.log(\"üöÄ Inbox + tabs cleanup complete.\");\n}\n\nfunction isStudyRelated(content) {\n  if (!content || typeof content !\u003d\u003d \u0027string\u0027) return false;\n\n  const keywords \u003d [\n    \"university\", \"universities\",\n    \"college\", \"colleges\",\n    \"bachelor\", \"bachelors\",\n    \"master\", \"masters\",\n    \"degree\", \"degrees\",\n    \"admission\", \"admissions\",\n    \"scholarship\", \"scholarships\",\n    \"campus\", \"campuses\",\n    \"education\", \"educational\",\n    \"pg program\", \"postgraduate\",\n    \"mba\", \"course\", \"courses\", \"online course\", \"online classes\",\n    \"coursera\", \"upgrad\", \"edx\", \"khan academy\", \"learning\", \"syllabus\", \"lectures\"\n  ];\n\n  return keywords.some(keyword \u003d\u003e content.includes(keyword));\n}\n"},{"id":"62cb13b5-9aa1-43e2-86d3-1a42e345fb8b","name":"trash cleaner","type":"server_js","source":"function emptyGmailTrash() {\n  const trashThreads \u003d GmailApp.getTrashThreads();\n  Logger.log(\"üóëÔ∏è Found \" + trashThreads.length + \" threads in Trash.\");\n\n  trashThreads.forEach(thread \u003d\u003e {\n    GmailApp.deleteThread(thread); // Permanently deletes the thread\n  });\n\n  Logger.log(\"‚úÖ All Trash threads permanently deleted.\");\n}\n"}]}